{"version":3,"sources":["webpack:///./js/firebaseApi.js","webpack:///./js/refs.js","webpack:///./js/auth.js","webpack:///./tmpl/userProfileTmpl.hbs"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","ui","firebaseui","AuthUI","auth","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","uiShown","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","GithubAuthProvider","AnonymousAuthProvider","tosUrl","signInFlow","start","firestore","collection","doc","get","then","exists","console","log","data","catch","error","user","currentUser","onAuthStateChanged","uid","signInBtnRef","document","querySelector","authContaineRef","authWrapperRef","openAuthContainer","classList","toggle","textContent","contains","addEventListener","removeEventListener","style","display","insertAdjacentHTML","userProfileTmpl","renderUserIcon","window","signOutUser","signOut","location","reload","Handlebars","module","exports","template","container","depth0","helpers","partials","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop"],"mappings":"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","file":"main.d0b766cd0b715327acb8.js","sourcesContent":["//import 'firebaseui/dist/firebaseui.css';\r\nimport * as firebaseui from 'firebaseui';\r\nimport firebase from 'firebase';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDWzddomj4Sa8oikOHu3F1SB41Hl4wPnag\",\r\n  authDomain: \"reg-sign-in-form.firebaseapp.com\",\r\n  projectId: \"reg-sign-in-form\",\r\n  storageBucket: \"reg-sign-in-form.appspot.com\",\r\n  messagingSenderId: \"677196047665\",\r\n  appId: \"1:677196047665:web:d2ed7d5648167228d0bc10\",\r\n  measurementId: \"G-66K74H5NCF\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nexport const uiConfig = {\r\n  callbacks: {\r\n    signInSuccessWithAuthResult: function (authResult) {\r\n      // alert('Access successful. HELLO KITTY!');\r\n      return false;\r\n    },\r\n    uiShown: function () {},\r\n  },\r\n  signInOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n    firebase.auth.GithubAuthProvider.PROVIDER_ID,\r\n    firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID,\r\n  ],\r\n  tosUrl: 'https://www.termsfeed.com/live/255b9d74-2174-485a-b58c-eb186fe5639f',\r\n  // privacyPolicyUrl:\r\n  //   'https://www.privacypolicies.com/live/44ccb766-aaf4-4d9b-a5b3-584ef9c0a4ed',\r\n  signInFlow: 'popup',\r\n};\r\n\r\nui.start('#firebaseui-auth-container', uiConfig);\r\n\r\n// https://team-project-event-booster.firebaseapp.com/__/auth/handler\r\n\r\nexport const db = firebase.firestore();\r\n\r\nconst docRef = db.collection('users').doc('BhuqyaszFAsfqQgXM17b');\r\n\r\ndocRef\r\n  .get()\r\n  .then(doc => {\r\n    if (doc.exists) {\r\n      console.log('Document data:', doc.data());\r\n    } else {\r\n      // doc.data() will be undefined in this case\r\n      console.log('No such document!');\r\n    }\r\n  })\r\n  .catch(error => {\r\n    console.log('Error getting document:', error);\r\n  });\r\n\r\n// console.log(db.collection('users').get().then((doc)=>doc.data));\r\n\r\n// db.collection(\"users\").add({\r\n//   first: \"Ada\",\r\n//   last: \"Lovelace\",\r\n//   born: 1815\r\n// })\r\n// .then((docRef) => {\r\n//   console.log(\"Document written with ID: \", docRef.id);\r\n// })\r\n// .catch((error) => {\r\n//   console.error(\"Error adding document: \", error);\r\n// });\r\n\r\n// console.log(db.collection('users'));\r\n\r\n// db.collection(\"users\").add({\r\n//   first: \"Alan\",\r\n//   middle: \"Mathison\",\r\n//   last: \"Turing\",\r\n//   born: 1912\r\n// })\r\n// .then((docRef) => {\r\n//   console.log(\"Document written with ID: \", docRef.id);\r\n// })\r\n// .catch((error) => {\r\n//   console.error(\"Error adding document: \", error);\r\n// });\r\n\r\n// db.collection(\"users\").get().then((querySnapshot) => {\r\n//   querySnapshot.forEach((doc) => {\r\n//       console.log(doc.data());\r\n//   });\r\n// });\r\n\r\nconst user = firebase.auth().currentUser;\r\nfirebase.auth().onAuthStateChanged(function (user) {\r\n  if (user) {\r\n    console.log('firebase :', user.uid);\r\n    return user.uid;\r\n    // User is signed in.\r\n  } else {\r\n    // No user is signed in.\r\n  }\r\n});\r\n\r\nconsole.log(user);\r\n\r\nexport { user };\r\n\r\n","//import preloaderFactory from './preloader';\r\n\r\nconst searchForm = document.querySelector('.form-submit');\r\nconst searchInput = document.querySelector('.input');\r\nconst select = document.querySelector('.select');\r\nconst dataContainer = document.querySelector('#dataContainer');\r\n//const preloader = preloaderFactory('#preloader');\r\nconst eventCardRef = document.querySelector('.event-cards');\r\nconst signInBtnRef = document.querySelector('.sign-in-button');\r\nconst authContaineRef = document.querySelector('.auth-container');\r\nconst authWrapperRef = document.querySelector('.auth-wrapper');\r\nconst paginationRef = document.querySelector('#demo')\r\n\r\nconst gallery = document.querySelector('.eventsCardTmpl_copy');\r\nconst geoModal = document.querySelector('.js-geolocation-modal');\r\nconst geoModalBackdrop = document.querySelector('.js-geolocation-backdrop');\r\n\r\nexport {\r\n // eventCardRef,\r\n // gallery,\r\n // geoModal,\r\n // geoModalBackdrop,\r\n  //searchForm,\r\n  //searchInput,\r\n  //select,\r\n  dataContainer,\r\n  //preloader,\r\n  signInBtnRef,\r\n  authContaineRef,\r\n  authWrapperRef,\r\n  //paginationRef\r\n};\r\n","import 'firebaseui/dist/firebaseui.css';\r\nimport * as firebaseui from 'firebaseui';\r\nimport firebase from 'firebase';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport userProfileTmpl from '../tmpl/userProfileTmpl.hbs';\r\nimport { signInBtnRef, authContaineRef, authWrapperRef } from './refs';\r\nimport { ui, uiConfig } from './firebaseApi';\r\n\r\nsignInBtnRef.addEventListener('click', openAuthContainer);\r\n\r\nfunction openAuthContainer() {\r\n  authContaineRef.classList.toggle('clicked');\r\n  signInBtnRef.textContent = 'Sign in';\r\n\r\n  if (authContaineRef.classList.contains('clicked')) {\r\n    signInBtnRef.textContent = 'Close';\r\n  }\r\n}\r\n\r\nfirebase.auth().onAuthStateChanged(function (user) {\r\n  if (user) {\r\n    // User is signed in.\r\n    // console.log(user);\r\n    signInBtnRef.removeEventListener('click', openAuthContainer);\r\n    openAuthContainer();\r\n    signInBtnRef.style.display = 'none';\r\n    authContaineRef.style.display = 'none';\r\n    renderUserIcon(user);\r\n    // document\r\n    //   .querySelector('.sign-out-btn')\r\n    //   .addEventListener('click', signOutUser);\r\n  }\r\n  //else {\r\n  //   // No user is signed in.\r\n  // }\r\n});\r\n\r\nfunction renderUserIcon(user) {\r\n  console.log(user);\r\n  authWrapperRef.insertAdjacentHTML('beforeend', userProfileTmpl(user));\r\n}\r\n\r\nfunction signOutUser() {\r\n  console.log('sign out');\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      document.querySelector('.user-container').style.display = 'none';\r\n      signInBtnRef.style.display = 'flex';\r\n      authContaineRef.style.display = 'block';\r\n      signInBtnRef.addEventListener('click', openAuthContainer);\r\n      location.reload();\r\n    })\r\n    .catch(error => {\r\n      // An error happened.\r\n    });\r\n}\r\n\r\nwindow.signOutUser = signOutUser;","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class='user-container'>\\r\\n    <img src='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"photoURL\") || (depth0 != null ? lookupProperty(depth0,\"photoURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"photoURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":26}}}) : helper)))\n    + \"' alt='\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"displayName\") || (depth0 != null ? lookupProperty(depth0,\"displayName\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"displayName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":48}}}) : helper)))\n    + \"' class='user-photo' />\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"displayName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":8,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"\\r\\n    <div class='button-flex'>\\r\\n        <button class='favorite-event' type='button'>\\r\\n            <span class='material-icons'>\\r\\n                star_border\\r\\n            </span>\\r\\n            <span class='favorite-text'>\\r\\n                Favorite events\\r\\n            </span>\\r\\n        </button>\\r\\n        <button class='sign-out-btn' type='button' onclick='signOutUser()'>\\r\\n            <span class='sign-out-text'>\\r\\n                Sign out\\r\\n            </span>\\r\\n            <span class='material-icons'>\\r\\n                arrow_forward\\r\\n            </span>\\r\\n        </button>\\r\\n    </div>\\r\\n\\r\\n</div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <p class='user-name'>\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"displayName\") || (depth0 != null ? lookupProperty(depth0,\"displayName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"displayName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":25},\"end\":{\"line\":5,\"column\":40}}}) : helper)))\n    + \"</p>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"    <p class='user-name'>Неопознанный енот</p>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"with\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"with\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":30,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}